"use strict";!function(o){function a(){0<o(".m-form-minnpost-form-processor-mailchimp").length&&o(".m-form-minnpost-form-processor-mailchimp").submit(function(e){e.preventDefault(),e.stopImmediatePropagation();var s=o("button",this),i=s.text(),a=o(this).serialize();s.prop("disabled",!0),s.text("Processing"),a+="&ajaxrequest=true&subscribe",o.ajax({cache:!1,url:params.ajaxurl,type:"post",dataType:"json",data:a}).done(function(e){var a="",t="info";if(!0===e.success){s.text("Thanks");var n="Signup";switch(e.data.user_status){case"existing":n="Update",a="Thanks for updating your email preferences. They will go into effect immediately.";break;case"new":n="Signup",a="We have added you to the MinnPost mailing list.";break;case"pending":n="Signup",a="We have added you to the MinnPost mailing list. You will need to click the confirmation link in the email we sent to begin receiving messages."}""!==e.data.confirm_message&&(a=e.data.confirm_message),"function"==typeof wp_analytics_tracking_event&&(wp_analytics_tracking_event("event","Newsletter",n,location.pathname),function(e){gtag("event","conversion",{send_to:params.gtag_sendto,event_callback:function(){void 0!==e&&(window.location=e)}})}(location.pathname))}else s.prop("disabled",!1),s.text(i),"function"==typeof wp_analytics_tracking_event&&wp_analytics_tracking_event("event","Newsletter","Fail",location.pathname),""!==e.data.confirm_message&&(a=e.data.confirm_message),t="error";o(".m-form-message-ajax").html(a),o(".m-form-message-ajax").addClass("m-form-message-"+t).removeClass("m-form-message-ajax-placeholder")}).fail(function(e){o(".m-form-message-ajax").html("<p>An error has occured. Please try again.</p>"),o(".m-form-message-ajax").addClass("m-form-message-error").removeClass("m-form-message-ajax-placeholder"),s.prop("disabled",!1),s.text(i),"function"==typeof wp_analytics_tracking_event&&wp_analytics_tracking_event("event","Newsletter","Fail",location.pathname)})})}jQuery(document).ready(function(e){a()})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob3J0Y29kZS5qcyJdLCJuYW1lcyI6WyIkIiwic2hvcnRjb2RlRm9ybSIsImxlbmd0aCIsInN1Ym1pdCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJidXR0b24iLCJ0aGlzIiwicHJldmlvdXNfYnV0dG9uX3RleHQiLCJ0ZXh0IiwiYWpheF9mb3JtX2RhdGEiLCJzZXJpYWxpemUiLCJwcm9wIiwiYWpheCIsImNhY2hlIiwidXJsIiwicGFyYW1zIiwiYWpheHVybCIsInR5cGUiLCJkYXRhVHlwZSIsImRhdGEiLCJkb25lIiwicmVzcG9uc2UiLCJtZXNzYWdlIiwibWVzc2FnZV9jbGFzcyIsInN1Y2Nlc3MiLCJhbmFseXRpY3NfYWN0aW9uIiwidXNlcl9zdGF0dXMiLCJjb25maXJtX21lc3NhZ2UiLCJ3cF9hbmFseXRpY3NfdHJhY2tpbmdfZXZlbnQiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiZ3RhZyIsInNlbmRfdG8iLCJndGFnX3NlbmR0byIsImV2ZW50X2NhbGxiYWNrIiwid2luZG93IiwiZ3RhZ19yZXBvcnRfY29udmVyc2lvbiIsImh0bWwiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiZmFpbCIsImpRdWVyeSIsImRvY3VtZW50IiwicmVhZHkiXSwibWFwcGluZ3MiOiJjQUFBLFNBQVlBLEdBZVgsU0FBU0MsSUFDdUQsRUFBMURELEVBQUcsNkNBQThDRSxRQUNyREYsRUFBRyw2Q0FBOENHLE9BQVEsU0FBVUMsR0FDbEVBLEVBQU1DLGlCQUNORCxFQUFNRSwyQkFDTixJQUNJQyxFQUFTUCxFQUFHLFNBQVVRLE1BQ3RCQyxFQUF1QkYsRUFBT0csT0FDOUJDLEVBQWlCWCxFQUFHUSxNQUFPSSxZQUMvQkwsRUFBT00sS0FBTSxZQUFZLEdBQ3pCTixFQUFPRyxLQUFNLGNBRWJDLEdBQWtDLDhCQUNsQ1gsRUFBRWMsS0FBSyxDQUNOQyxPQUFPLEVBQ1BDLElBQUtDLE9BQU9DLFFBQ1pDLEtBQU0sT0FDTkMsU0FBVyxPQUNYQyxLQUFNVixJQUVOVyxLQUFNLFNBQVVDLEdBQ2hCLElBQUlDLEVBQWdCLEdBQ2hCQyxFQUFnQixPQUNwQixJQUFLLElBQVNGLEVBQVNHLFFBQVUsQ0FDaENuQixFQUFPRyxLQUFNLFVBQ2IsSUFBSWlCLEVBQW1CLFNBQ3ZCLE9BQVNKLEVBQVNGLEtBQUtPLGFBQ3RCLElBQUssV0FDSkQsRUFBbUIsU0FDbkJILEVBQVUsb0ZBQ1YsTUFDRCxJQUFLLE1BQ0pHLEVBQW1CLFNBQ25CSCxFQUFVLGtEQUNWLE1BQ0QsSUFBSyxVQUNKRyxFQUFtQixTQUNuQkgsRUFBVSxpSkFHUCxLQUFPRCxFQUFTRixLQUFLUSxrQkFDekJMLEVBQVVELEVBQVNGLEtBQUtRLGlCQUdwQixtQkFBc0JDLDhCQUMxQkEsNEJBQTZCLFFBQVMsYUFBY0gsRUFBa0JJLFNBQVNDLFVBMURyRixTQUFpQ2hCLEdBTWhDaUIsS0FBTSxRQUFTLGFBQWMsQ0FDM0JDLFFBQVdqQixPQUFPa0IsWUFDbEJDLGVBUGEsZ0JBQ1IsSUFBd0JwQixJQUMzQnFCLE9BQU9OLFNBQVdmLE1Bd0RqQnNCLENBQXdCUCxTQUFTQyxnQkFHbEN6QixFQUFPTSxLQUFNLFlBQVksR0FDekJOLEVBQU9HLEtBQU1ELEdBQ1IsbUJBQXNCcUIsNkJBQzFCQSw0QkFBNkIsUUFBUyxhQUFjLE9BQVFDLFNBQVNDLFVBRWpFLEtBQU9ULEVBQVNGLEtBQUtRLGtCQUN6QkwsRUFBVUQsRUFBU0YsS0FBS1EsaUJBRXpCSixFQUFnQixRQUVqQnpCLEVBQUcsd0JBQXlCdUMsS0FBTWYsR0FDbEN4QixFQUFHLHdCQUF5QndDLFNBQVUsa0JBQW9CZixHQUFnQmdCLFlBQWEscUNBRXZGQyxLQUFNLFNBQVVuQixHQUNoQnZCLEVBQUcsd0JBQXlCdUMsS0FBTSxrREFDbEN2QyxFQUFHLHdCQUF5QndDLFNBQVUsd0JBQXlCQyxZQUFhLG1DQUM1RWxDLEVBQU9NLEtBQU0sWUFBWSxHQUN6Qk4sRUFBT0csS0FBTUQsR0FDUixtQkFBc0JxQiw2QkFDMUJBLDRCQUE2QixRQUFTLGFBQWMsT0FBUUMsU0FBU0MsY0FPMUVXLE9BQVFDLFVBQVdDLE1BQU8sU0FBVTdDLEdBQ25DQyxNQTNGRixDQThGRzBDIiwiZmlsZSI6ImZyb250LWVuZC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoIGZ1bmN0aW9uKCAkICkge1xuXG5cdGZ1bmN0aW9uIGd0YWdfcmVwb3J0X2NvbnZlcnNpb24oIHVybCApIHtcblx0XHR2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG5cdFx0ICBpZiAoICd1bmRlZmluZWQnICE9PSB0eXBlb2YoIHVybCApICkge1xuXHRcdCAgICB3aW5kb3cubG9jYXRpb24gPSB1cmw7XG5cdFx0ICB9XG5cdFx0fTtcblx0XHRndGFnKCAnZXZlbnQnLCAnY29udmVyc2lvbicsIHtcblx0XHQgICdzZW5kX3RvJzogcGFyYW1zLmd0YWdfc2VuZHRvLFxuXHRcdCAgJ2V2ZW50X2NhbGxiYWNrJzogY2FsbGJhY2tcblx0XHR9ICk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0ZnVuY3Rpb24gc2hvcnRjb2RlRm9ybSgpIHtcblx0XHRpZiAoICQoICcubS1mb3JtLW1pbm5wb3N0LWZvcm0tcHJvY2Vzc29yLW1haWxjaGltcCcgKS5sZW5ndGggPiAwICkge1xuXHRcdFx0JCggJy5tLWZvcm0tbWlubnBvc3QtZm9ybS1wcm9jZXNzb3ItbWFpbGNoaW1wJyApLnN1Ym1pdCggZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBQcmV2ZW50IHRoZSBkZWZhdWx0IGZvcm0gc3VibWl0LlxuXHRcdFx0XHRldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0dmFyIHRoYXQgPSB0aGlzO1xuXHRcdFx0XHR2YXIgYnV0dG9uID0gJCggJ2J1dHRvbicsIHRoaXMgKTtcblx0XHRcdFx0dmFyIHByZXZpb3VzX2J1dHRvbl90ZXh0ID0gYnV0dG9uLnRleHQoKTtcblx0XHRcdFx0dmFyIGFqYXhfZm9ybV9kYXRhID0gJCggdGhpcyApLnNlcmlhbGl6ZSgpOyAvLyBzZXJpYWxpemUgdGhlIGZvcm0gZGF0YVxuXHRcdFx0XHRidXR0b24ucHJvcCggJ2Rpc2FibGVkJywgdHJ1ZSApO1xuXHRcdFx0XHRidXR0b24udGV4dCggJ1Byb2Nlc3NpbmcnICk7XG5cdFx0XHRcdC8vYWRkIG91ciBvd24gYWpheCBjaGVjayBhcyBYLVJlcXVlc3RlZC1XaXRoIGlzIG5vdCBhbHdheXMgcmVsaWFibGVcblx0XHRcdFx0YWpheF9mb3JtX2RhdGEgPSBhamF4X2Zvcm1fZGF0YSArICcmYWpheHJlcXVlc3Q9dHJ1ZSZzdWJzY3JpYmUnO1xuXHRcdFx0XHQkLmFqYXgoe1xuXHRcdFx0XHRcdGNhY2hlOiBmYWxzZSxcblx0XHRcdFx0XHR1cmw6IHBhcmFtcy5hamF4dXJsLCAvLyBkb21haW4vd3AtYWRtaW4vYWRtaW4tYWpheC5waHBcblx0XHRcdFx0XHR0eXBlOiAncG9zdCcsXG5cdFx0XHRcdFx0ZGF0YVR5cGUgOiAnanNvbicsXG5cdFx0XHRcdFx0ZGF0YTogYWpheF9mb3JtX2RhdGFcblx0XHRcdFx0fSApXG5cdFx0XHRcdC5kb25lKCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7IC8vIHJlc3BvbnNlIGZyb20gdGhlIFBIUCBhY3Rpb25cblx0XHRcdFx0XHR2YXIgbWVzc2FnZSAgICAgICA9ICcnO1xuXHRcdFx0XHRcdHZhciBtZXNzYWdlX2NsYXNzID0gJ2luZm8nO1xuXHRcdFx0XHRcdGlmICggdHJ1ZSA9PT0gcmVzcG9uc2Uuc3VjY2VzcyApIHtcblx0XHRcdFx0XHRcdGJ1dHRvbi50ZXh0KCAnVGhhbmtzJyApO1xuXHRcdFx0XHRcdFx0dmFyIGFuYWx5dGljc19hY3Rpb24gPSAnU2lnbnVwJztcblx0XHRcdFx0XHRcdHN3aXRjaCAoIHJlc3BvbnNlLmRhdGEudXNlcl9zdGF0dXMgKSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgJ2V4aXN0aW5nJzpcblx0XHRcdFx0XHRcdFx0XHRhbmFseXRpY3NfYWN0aW9uID0gJ1VwZGF0ZSc7XG5cdFx0XHRcdFx0XHRcdFx0bWVzc2FnZSA9ICdUaGFua3MgZm9yIHVwZGF0aW5nIHlvdXIgZW1haWwgcHJlZmVyZW5jZXMuIFRoZXkgd2lsbCBnbyBpbnRvIGVmZmVjdCBpbW1lZGlhdGVseS4nO1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRjYXNlICduZXcnOlxuXHRcdFx0XHRcdFx0XHRcdGFuYWx5dGljc19hY3Rpb24gPSAnU2lnbnVwJztcblx0XHRcdFx0XHRcdFx0XHRtZXNzYWdlID0gJ1dlIGhhdmUgYWRkZWQgeW91IHRvIHRoZSBNaW5uUG9zdCBtYWlsaW5nIGxpc3QuJztcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0Y2FzZSAncGVuZGluZyc6XG5cdFx0XHRcdFx0XHRcdFx0YW5hbHl0aWNzX2FjdGlvbiA9ICdTaWdudXAnO1xuXHRcdFx0XHRcdFx0XHRcdG1lc3NhZ2UgPSAnV2UgaGF2ZSBhZGRlZCB5b3UgdG8gdGhlIE1pbm5Qb3N0IG1haWxpbmcgbGlzdC4gWW91IHdpbGwgbmVlZCB0byBjbGljayB0aGUgY29uZmlybWF0aW9uIGxpbmsgaW4gdGhlIGVtYWlsIHdlIHNlbnQgdG8gYmVnaW4gcmVjZWl2aW5nIG1lc3NhZ2VzLic7XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoICcnICE9PSByZXNwb25zZS5kYXRhLmNvbmZpcm1fbWVzc2FnZSApIHtcblx0XHRcdFx0XHRcdFx0bWVzc2FnZSA9IHJlc3BvbnNlLmRhdGEuY29uZmlybV9tZXNzYWdlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAoICdmdW5jdGlvbicgPT09IHR5cGVvZiB3cF9hbmFseXRpY3NfdHJhY2tpbmdfZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRcdHdwX2FuYWx5dGljc190cmFja2luZ19ldmVudCggJ2V2ZW50JywgJ05ld3NsZXR0ZXInLCBhbmFseXRpY3NfYWN0aW9uLCBsb2NhdGlvbi5wYXRobmFtZSApO1xuXHRcdFx0XHRcdFx0XHRndGFnX3JlcG9ydF9jb252ZXJzaW9uKCBsb2NhdGlvbi5wYXRobmFtZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRidXR0b24ucHJvcCggJ2Rpc2FibGVkJywgZmFsc2UgKTtcblx0XHRcdFx0XHRcdGJ1dHRvbi50ZXh0KCBwcmV2aW91c19idXR0b25fdGV4dCApO1xuXHRcdFx0XHRcdFx0aWYgKCAnZnVuY3Rpb24nID09PSB0eXBlb2Ygd3BfYW5hbHl0aWNzX3RyYWNraW5nX2V2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHR3cF9hbmFseXRpY3NfdHJhY2tpbmdfZXZlbnQoICdldmVudCcsICdOZXdzbGV0dGVyJywgJ0ZhaWwnLCBsb2NhdGlvbi5wYXRobmFtZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCAnJyAhPT0gcmVzcG9uc2UuZGF0YS5jb25maXJtX21lc3NhZ2UgKSB7XG5cdFx0XHRcdFx0XHRcdG1lc3NhZ2UgPSByZXNwb25zZS5kYXRhLmNvbmZpcm1fbWVzc2FnZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdG1lc3NhZ2VfY2xhc3MgPSAnZXJyb3InO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQkKCAnLm0tZm9ybS1tZXNzYWdlLWFqYXgnICkuaHRtbCggbWVzc2FnZSApO1xuXHRcdFx0XHRcdCQoICcubS1mb3JtLW1lc3NhZ2UtYWpheCcgKS5hZGRDbGFzcyggJ20tZm9ybS1tZXNzYWdlLScgKyBtZXNzYWdlX2NsYXNzICkucmVtb3ZlQ2xhc3MoICdtLWZvcm0tbWVzc2FnZS1hamF4LXBsYWNlaG9sZGVyJyApO1xuXHRcdFx0XHR9IClcblx0XHRcdFx0LmZhaWwoIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblx0XHRcdFx0XHQkKCAnLm0tZm9ybS1tZXNzYWdlLWFqYXgnICkuaHRtbCggJzxwPkFuIGVycm9yIGhhcyBvY2N1cmVkLiBQbGVhc2UgdHJ5IGFnYWluLjwvcD4nICk7XG5cdFx0XHRcdFx0JCggJy5tLWZvcm0tbWVzc2FnZS1hamF4JyApLmFkZENsYXNzKCAnbS1mb3JtLW1lc3NhZ2UtZXJyb3InICkucmVtb3ZlQ2xhc3MoICdtLWZvcm0tbWVzc2FnZS1hamF4LXBsYWNlaG9sZGVyJyApO1xuXHRcdFx0XHRcdGJ1dHRvbi5wcm9wKCAnZGlzYWJsZWQnLCBmYWxzZSApO1xuXHRcdFx0XHRcdGJ1dHRvbi50ZXh0KCBwcmV2aW91c19idXR0b25fdGV4dCApO1xuXHRcdFx0XHRcdGlmICggJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHdwX2FuYWx5dGljc190cmFja2luZ19ldmVudCApIHtcblx0XHRcdFx0XHRcdHdwX2FuYWx5dGljc190cmFja2luZ19ldmVudCggJ2V2ZW50JywgJ05ld3NsZXR0ZXInLCAnRmFpbCcsIGxvY2F0aW9uLnBhdGhuYW1lICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRqUXVlcnkoIGRvY3VtZW50ICkucmVhZHkoIGZ1bmN0aW9uKCAkICkge1xuXHRcdHNob3J0Y29kZUZvcm0oKTtcblx0fSk7XG5cbn0pKGpRdWVyeSk7Il19
