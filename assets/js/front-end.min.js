"use strict";!function(r){function i(e,a,s,o,m){"undefined"!=typeof ga&&(void 0===m?ga("send",e,a,s,o):ga("send",e,a,s,o,m))}jQuery(document).ready(function(e){0<r(".m-form-minnpost-form-processor-mailchimp").length&&r(".m-form-minnpost-form-processor-mailchimp").submit(function(e){e.preventDefault(),e.stopImmediatePropagation();var m=r("button",this),t=m.text(),a=r(this).serialize();m.prop("disabled",!0),m.text("Processing"),a+="&ajaxrequest=true&subscribe",r.ajax({cache:!1,url:params.ajaxurl,type:"post",dataType:"json",data:a}).done(function(e){var a="",s="info";if(!0===e.success){m.text("Thanks");var o="Signup";switch(e.data.user_status){case"existing":o="Update",a="Thanks for updating your email preferences. They will go into effect&nbsp;immediately.";break;case"new":o="Signup",a="We have added you to the MinnPost mailing&nbsp;list.";break;case"pending":o="Signup",a="We have added you to the MinnPost mailing list. You will need to click the confirmation link in the email we sent to begin receiving&nbsp;messages."}""!==e.data.confirm_message&&(a=e.data.confirm_message),i("event","Newsletter",o,location.pathname)}else m.prop("disabled",!1),m.text(t),i("event","Newsletter","Fail",location.pathname),""!==e.data.confirm_message&&(a=e.data.confirm_message),s="error";r(".m-form-message-ajax").html(a),r(".m-form-message-ajax").addClass("m-form-message-"+s).removeClass("m-form-message-ajax-placeholder"),r(".m-form-minnpost-form-processor-mailchimp").addClass("m-form-minnpost-form-processor-mailchimp-submitted"),0<r(".m-form-fullpage").length&&r("html, body").animate({scrollTop:r(".m-form-message-ajax").offset().top-50},"slow")}).fail(function(e){r(".m-form-message-ajax").html("<p>An error has occured. Please try again.</p>"),r(".m-form-message-ajax").addClass("m-form-message-error").removeClass("m-form-message-ajax-placeholder"),r(".m-form-minnpost-form-processor-mailchimp").removeClass("m-form-minnpost-form-processor-mailchimp-submitted"),m.prop("disabled",!1),m.text(t),i("event","Newsletter","Fail",location.pathname)})})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob3J0Y29kZS5qcyJdLCJuYW1lcyI6WyIkIiwid3BfYW5hbHl0aWNzX3RyYWNraW5nX2V2ZW50IiwidHlwZSIsImNhdGVnb3J5IiwiYWN0aW9uIiwibGFiZWwiLCJ2YWx1ZSIsImdhIiwialF1ZXJ5IiwiZG9jdW1lbnQiLCJyZWFkeSIsImxlbmd0aCIsInN1Ym1pdCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJidXR0b24iLCJ0aGlzIiwicHJldmlvdXNfYnV0dG9uX3RleHQiLCJ0ZXh0IiwiYWpheF9mb3JtX2RhdGEiLCJzZXJpYWxpemUiLCJwcm9wIiwiYWpheCIsImNhY2hlIiwidXJsIiwicGFyYW1zIiwiYWpheHVybCIsImRhdGFUeXBlIiwiZGF0YSIsImRvbmUiLCJyZXNwb25zZSIsIm1lc3NhZ2UiLCJtZXNzYWdlX2NsYXNzIiwic3VjY2VzcyIsImFuYWx5dGljc19hY3Rpb24iLCJ1c2VyX3N0YXR1cyIsImNvbmZpcm1fbWVzc2FnZSIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJodG1sIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJmYWlsIl0sIm1hcHBpbmdzIjoiY0FBQSxTQUFZQSxHQUVYLFNBQVNDLEVBQTZCQyxFQUFNQyxFQUFVQyxFQUFRQyxFQUFPQyxHQUMvRCxvQkFBdUJDLFVBQ3RCLElBQXVCRCxFQUMzQkMsR0FBSSxPQUFRTCxFQUFNQyxFQUFVQyxFQUFRQyxHQUVwQ0UsR0FBSSxPQUFRTCxFQUFNQyxFQUFVQyxFQUFRQyxFQUFPQyxJQXlGOUNFLE9BQVFDLFVBQVdDLE1BQU8sU0FBVVYsR0FqRjRCLEVBQTFEQSxFQUFHLDZDQUE4Q1csUUFDckRYLEVBQUcsNkNBQThDWSxPQUFRLFNBQVVDLEdBQ2xFQSxFQUFNQyxpQkFDTkQsRUFBTUUsMkJBQ04sSUFDSUMsRUFBU2hCLEVBQUcsU0FBVWlCLE1BQ3RCQyxFQUF1QkYsRUFBT0csT0FDOUJDLEVBQWlCcEIsRUFBR2lCLE1BQU9JLFlBQy9CTCxFQUFPTSxLQUFNLFlBQVksR0FDekJOLEVBQU9HLEtBQU0sY0FFYkMsR0FBa0MsOEJBQ2xDcEIsRUFBRXVCLEtBQUssQ0FDTkMsT0FBTyxFQUNQQyxJQUFLQyxPQUFPQyxRQUNaekIsS0FBTSxPQUNOMEIsU0FBVyxPQUNYQyxLQUFNVCxJQUVOVSxLQUFNLFNBQVVDLEdBQ2hCLElBQUlDLEVBQWdCLEdBQ2hCQyxFQUFnQixPQUNwQixJQUFLLElBQVNGLEVBQVNHLFFBQVUsQ0FDaENsQixFQUFPRyxLQUFNLFVBQ2IsSUFBSWdCLEVBQW1CLFNBQ3ZCLE9BQVNKLEVBQVNGLEtBQUtPLGFBQ3RCLElBQUssV0FDSkQsRUFBbUIsU0FDbkJILEVBQVUseUZBQ1YsTUFDRCxJQUFLLE1BQ0pHLEVBQW1CLFNBQ25CSCxFQUFVLHVEQUNWLE1BQ0QsSUFBSyxVQUNKRyxFQUFtQixTQUNuQkgsRUFBVSxzSkFHUCxLQUFPRCxFQUFTRixLQUFLUSxrQkFDekJMLEVBQVVELEVBQVNGLEtBQUtRLGlCQUl4QnBDLEVBQTZCLFFBQVMsYUFBY2tDLEVBQWtCRyxTQUFTQyxlQUdoRnZCLEVBQU9NLEtBQU0sWUFBWSxHQUN6Qk4sRUFBT0csS0FBTUQsR0FFWmpCLEVBQTZCLFFBQVMsYUFBYyxPQUFRcUMsU0FBU0MsVUFFakUsS0FBT1IsRUFBU0YsS0FBS1Esa0JBQ3pCTCxFQUFVRCxFQUFTRixLQUFLUSxpQkFFekJKLEVBQWdCLFFBRWpCakMsRUFBRyx3QkFBeUJ3QyxLQUFNUixHQUNsQ2hDLEVBQUcsd0JBQXlCeUMsU0FBVSxrQkFBb0JSLEdBQWdCUyxZQUFhLG1DQUN2RjFDLEVBQUcsNkNBQThDeUMsU0FBVSxzREFDckIsRUFBakN6QyxFQUFHLG9CQUFxQlcsUUFFNUJYLEVBQUcsY0FBZTJDLFFBQVMsQ0FDMUJDLFVBQVc1QyxFQUFHLHdCQUF5QjZDLFNBQVNDLElBQU0sSUFDcEQsVUFHSkMsS0FBTSxTQUFVaEIsR0FDaEIvQixFQUFHLHdCQUF5QndDLEtBQU0sa0RBQ2xDeEMsRUFBRyx3QkFBeUJ5QyxTQUFVLHdCQUF5QkMsWUFBYSxtQ0FDNUUxQyxFQUFHLDZDQUE4QzBDLFlBQWEsc0RBQzlEMUIsRUFBT00sS0FBTSxZQUFZLEdBQ3pCTixFQUFPRyxLQUFNRCxHQUVaakIsRUFBNkIsUUFBUyxhQUFjLE9BQVFxQyxTQUFTQyxnQkF6RjNFLENBb0dHL0IiLCJmaWxlIjoiZnJvbnQtZW5kLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiggZnVuY3Rpb24oICQgKSB7XG5cblx0ZnVuY3Rpb24gd3BfYW5hbHl0aWNzX3RyYWNraW5nX2V2ZW50KCB0eXBlLCBjYXRlZ29yeSwgYWN0aW9uLCBsYWJlbCwgdmFsdWUgKSB7XG5cdFx0aWYgKCAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGdhICkge1xuXHRcdFx0aWYgKCAndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHZhbHVlICkge1xuXHRcdFx0XHRnYSggJ3NlbmQnLCB0eXBlLCBjYXRlZ29yeSwgYWN0aW9uLCBsYWJlbCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Z2EoICdzZW5kJywgdHlwZSwgY2F0ZWdvcnksIGFjdGlvbiwgbGFiZWwsIHZhbHVlICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBzaG9ydGNvZGVGb3JtKCkge1xuXHRcdGlmICggJCggJy5tLWZvcm0tbWlubnBvc3QtZm9ybS1wcm9jZXNzb3ItbWFpbGNoaW1wJyApLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHQkKCAnLm0tZm9ybS1taW5ucG9zdC1mb3JtLXByb2Nlc3Nvci1tYWlsY2hpbXAnICkuc3VibWl0KCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnQgdGhlIGRlZmF1bHQgZm9ybSBzdWJtaXQuXG5cdFx0XHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cdFx0XHRcdHZhciBidXR0b24gPSAkKCAnYnV0dG9uJywgdGhpcyApO1xuXHRcdFx0XHR2YXIgcHJldmlvdXNfYnV0dG9uX3RleHQgPSBidXR0b24udGV4dCgpO1xuXHRcdFx0XHR2YXIgYWpheF9mb3JtX2RhdGEgPSAkKCB0aGlzICkuc2VyaWFsaXplKCk7IC8vIHNlcmlhbGl6ZSB0aGUgZm9ybSBkYXRhXG5cdFx0XHRcdGJ1dHRvbi5wcm9wKCAnZGlzYWJsZWQnLCB0cnVlICk7XG5cdFx0XHRcdGJ1dHRvbi50ZXh0KCAnUHJvY2Vzc2luZycgKTtcblx0XHRcdFx0Ly9hZGQgb3VyIG93biBhamF4IGNoZWNrIGFzIFgtUmVxdWVzdGVkLVdpdGggaXMgbm90IGFsd2F5cyByZWxpYWJsZVxuXHRcdFx0XHRhamF4X2Zvcm1fZGF0YSA9IGFqYXhfZm9ybV9kYXRhICsgJyZhamF4cmVxdWVzdD10cnVlJnN1YnNjcmliZSc7XG5cdFx0XHRcdCQuYWpheCh7XG5cdFx0XHRcdFx0Y2FjaGU6IGZhbHNlLFxuXHRcdFx0XHRcdHVybDogcGFyYW1zLmFqYXh1cmwsIC8vIGRvbWFpbi93cC1hZG1pbi9hZG1pbi1hamF4LnBocFxuXHRcdFx0XHRcdHR5cGU6ICdwb3N0Jyxcblx0XHRcdFx0XHRkYXRhVHlwZSA6ICdqc29uJyxcblx0XHRcdFx0XHRkYXRhOiBhamF4X2Zvcm1fZGF0YVxuXHRcdFx0XHR9IClcblx0XHRcdFx0LmRvbmUoIGZ1bmN0aW9uKCByZXNwb25zZSApIHsgLy8gcmVzcG9uc2UgZnJvbSB0aGUgUEhQIGFjdGlvblxuXHRcdFx0XHRcdHZhciBtZXNzYWdlICAgICAgID0gJyc7XG5cdFx0XHRcdFx0dmFyIG1lc3NhZ2VfY2xhc3MgPSAnaW5mbyc7XG5cdFx0XHRcdFx0aWYgKCB0cnVlID09PSByZXNwb25zZS5zdWNjZXNzICkge1xuXHRcdFx0XHRcdFx0YnV0dG9uLnRleHQoICdUaGFua3MnICk7XG5cdFx0XHRcdFx0XHR2YXIgYW5hbHl0aWNzX2FjdGlvbiA9ICdTaWdudXAnO1xuXHRcdFx0XHRcdFx0c3dpdGNoICggcmVzcG9uc2UuZGF0YS51c2VyX3N0YXR1cyApIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAnZXhpc3RpbmcnOlxuXHRcdFx0XHRcdFx0XHRcdGFuYWx5dGljc19hY3Rpb24gPSAnVXBkYXRlJztcblx0XHRcdFx0XHRcdFx0XHRtZXNzYWdlID0gJ1RoYW5rcyBmb3IgdXBkYXRpbmcgeW91ciBlbWFpbCBwcmVmZXJlbmNlcy4gVGhleSB3aWxsIGdvIGludG8gZWZmZWN0Jm5ic3A7aW1tZWRpYXRlbHkuJztcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0Y2FzZSAnbmV3Jzpcblx0XHRcdFx0XHRcdFx0XHRhbmFseXRpY3NfYWN0aW9uID0gJ1NpZ251cCc7XG5cdFx0XHRcdFx0XHRcdFx0bWVzc2FnZSA9ICdXZSBoYXZlIGFkZGVkIHlvdSB0byB0aGUgTWlublBvc3QgbWFpbGluZyZuYnNwO2xpc3QuJztcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0Y2FzZSAncGVuZGluZyc6XG5cdFx0XHRcdFx0XHRcdFx0YW5hbHl0aWNzX2FjdGlvbiA9ICdTaWdudXAnO1xuXHRcdFx0XHRcdFx0XHRcdG1lc3NhZ2UgPSAnV2UgaGF2ZSBhZGRlZCB5b3UgdG8gdGhlIE1pbm5Qb3N0IG1haWxpbmcgbGlzdC4gWW91IHdpbGwgbmVlZCB0byBjbGljayB0aGUgY29uZmlybWF0aW9uIGxpbmsgaW4gdGhlIGVtYWlsIHdlIHNlbnQgdG8gYmVnaW4gcmVjZWl2aW5nJm5ic3A7bWVzc2FnZXMuJztcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggJycgIT09IHJlc3BvbnNlLmRhdGEuY29uZmlybV9tZXNzYWdlICkge1xuXHRcdFx0XHRcdFx0XHRtZXNzYWdlID0gcmVzcG9uc2UuZGF0YS5jb25maXJtX21lc3NhZ2U7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmICggJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHdwX2FuYWx5dGljc190cmFja2luZ19ldmVudCApIHtcblx0XHRcdFx0XHRcdFx0d3BfYW5hbHl0aWNzX3RyYWNraW5nX2V2ZW50KCAnZXZlbnQnLCAnTmV3c2xldHRlcicsIGFuYWx5dGljc19hY3Rpb24sIGxvY2F0aW9uLnBhdGhuYW1lICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGJ1dHRvbi5wcm9wKCAnZGlzYWJsZWQnLCBmYWxzZSApO1xuXHRcdFx0XHRcdFx0YnV0dG9uLnRleHQoIHByZXZpb3VzX2J1dHRvbl90ZXh0ICk7XG5cdFx0XHRcdFx0XHRpZiAoICdmdW5jdGlvbicgPT09IHR5cGVvZiB3cF9hbmFseXRpY3NfdHJhY2tpbmdfZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRcdHdwX2FuYWx5dGljc190cmFja2luZ19ldmVudCggJ2V2ZW50JywgJ05ld3NsZXR0ZXInLCAnRmFpbCcsIGxvY2F0aW9uLnBhdGhuYW1lICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoICcnICE9PSByZXNwb25zZS5kYXRhLmNvbmZpcm1fbWVzc2FnZSApIHtcblx0XHRcdFx0XHRcdFx0bWVzc2FnZSA9IHJlc3BvbnNlLmRhdGEuY29uZmlybV9tZXNzYWdlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bWVzc2FnZV9jbGFzcyA9ICdlcnJvcic7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCQoICcubS1mb3JtLW1lc3NhZ2UtYWpheCcgKS5odG1sKCBtZXNzYWdlICk7XG5cdFx0XHRcdFx0JCggJy5tLWZvcm0tbWVzc2FnZS1hamF4JyApLmFkZENsYXNzKCAnbS1mb3JtLW1lc3NhZ2UtJyArIG1lc3NhZ2VfY2xhc3MgKS5yZW1vdmVDbGFzcyggJ20tZm9ybS1tZXNzYWdlLWFqYXgtcGxhY2Vob2xkZXInICk7XG5cdFx0XHRcdFx0JCggJy5tLWZvcm0tbWlubnBvc3QtZm9ybS1wcm9jZXNzb3ItbWFpbGNoaW1wJyApLmFkZENsYXNzKCAnbS1mb3JtLW1pbm5wb3N0LWZvcm0tcHJvY2Vzc29yLW1haWxjaGltcC1zdWJtaXR0ZWQnICk7XG5cdFx0XHRcdFx0aWYgKCAkKCAnLm0tZm9ybS1mdWxscGFnZScgKS5sZW5ndGggPiAwICkge1xuXHRcdFx0XHRcdFx0Ly8gaWYgd2UgYXJlIG9uIGEgZnVsbHBhZ2UsIHNjcm9sbCB0byB0aGUgcmVzdWx0IG1lc3NhZ2Vcblx0XHRcdFx0XHRcdCQoICdodG1sLCBib2R5JyApLmFuaW1hdGUoIHtcblx0XHRcdFx0XHRcdFx0c2Nyb2xsVG9wOiAkKCAnLm0tZm9ybS1tZXNzYWdlLWFqYXgnICkub2Zmc2V0KCkudG9wIC0gNTBcblx0XHRcdFx0XHRcdH0sICdzbG93JyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApXG5cdFx0XHRcdC5mYWlsKCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cdFx0XHRcdFx0JCggJy5tLWZvcm0tbWVzc2FnZS1hamF4JyApLmh0bWwoICc8cD5BbiBlcnJvciBoYXMgb2NjdXJlZC4gUGxlYXNlIHRyeSBhZ2Fpbi48L3A+JyApO1xuXHRcdFx0XHRcdCQoICcubS1mb3JtLW1lc3NhZ2UtYWpheCcgKS5hZGRDbGFzcyggJ20tZm9ybS1tZXNzYWdlLWVycm9yJyApLnJlbW92ZUNsYXNzKCAnbS1mb3JtLW1lc3NhZ2UtYWpheC1wbGFjZWhvbGRlcicgKTtcblx0XHRcdFx0XHQkKCAnLm0tZm9ybS1taW5ucG9zdC1mb3JtLXByb2Nlc3Nvci1tYWlsY2hpbXAnICkucmVtb3ZlQ2xhc3MoICdtLWZvcm0tbWlubnBvc3QtZm9ybS1wcm9jZXNzb3ItbWFpbGNoaW1wLXN1Ym1pdHRlZCcgKTtcblx0XHRcdFx0XHRidXR0b24ucHJvcCggJ2Rpc2FibGVkJywgZmFsc2UgKTtcblx0XHRcdFx0XHRidXR0b24udGV4dCggcHJldmlvdXNfYnV0dG9uX3RleHQgKTtcblx0XHRcdFx0XHRpZiAoICdmdW5jdGlvbicgPT09IHR5cGVvZiB3cF9hbmFseXRpY3NfdHJhY2tpbmdfZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHR3cF9hbmFseXRpY3NfdHJhY2tpbmdfZXZlbnQoICdldmVudCcsICdOZXdzbGV0dGVyJywgJ0ZhaWwnLCBsb2NhdGlvbi5wYXRobmFtZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0alF1ZXJ5KCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbiggJCApIHtcblx0XHRzaG9ydGNvZGVGb3JtKCk7XG5cdH0pO1xuXG59KShqUXVlcnkpOyJdfQ==
