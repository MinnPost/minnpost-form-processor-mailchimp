"use strict";!function(i){function r(e){return gtag("event","conversion",{send_to:params.gtag_sendto,event_callback:function(){void 0!==e&&(window.location=e)}}),!1}function m(e,a,t,s,n){"undefined"!=typeof ga&&(void 0===n?ga("send",e,a,t,s):ga("send",e,a,t,s,n))}jQuery(document).ready(function(e){0<i(".m-form-minnpost-form-processor-mailchimp").length&&i(".m-form-minnpost-form-processor-mailchimp").submit(function(e){e.preventDefault(),e.stopImmediatePropagation();var n=i("button",this),o=n.text(),a=i(this).serialize();n.prop("disabled",!0),n.text("Processing"),a+="&ajaxrequest=true&subscribe",i.ajax({cache:!1,url:params.ajaxurl,type:"post",dataType:"json",data:a}).done(function(e){var a="",t="info";if(!0===e.success){n.text("Thanks");var s="Signup";switch(e.data.user_status){case"existing":s="Update",a="Thanks for updating your email preferences. They will go into effect immediately.";break;case"new":s="Signup",a="We have added you to the MinnPost mailing list.";break;case"pending":s="Signup",a="We have added you to the MinnPost mailing list. You will need to click the confirmation link in the email we sent to begin receiving messages."}""!==e.data.confirm_message&&(a=e.data.confirm_message),m("event","Newsletter",s,location.pathname),r(location.pathname)}else n.prop("disabled",!1),n.text(o),m("event","Newsletter","Fail",location.pathname),""!==e.data.confirm_message&&(a=e.data.confirm_message),t="error";i(".m-form-message-ajax").html(a),i(".m-form-message-ajax").addClass("m-form-message-"+t).removeClass("m-form-message-ajax-placeholder")}).fail(function(e){i(".m-form-message-ajax").html("<p>An error has occured. Please try again.</p>"),i(".m-form-message-ajax").addClass("m-form-message-error").removeClass("m-form-message-ajax-placeholder"),n.prop("disabled",!1),n.text(o),m("event","Newsletter","Fail",location.pathname)})})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob3J0Y29kZS5qcyJdLCJuYW1lcyI6WyIkIiwiZ3RhZ19yZXBvcnRfY29udmVyc2lvbiIsInVybCIsImd0YWciLCJzZW5kX3RvIiwicGFyYW1zIiwiZ3RhZ19zZW5kdG8iLCJldmVudF9jYWxsYmFjayIsIndpbmRvdyIsImxvY2F0aW9uIiwid3BfYW5hbHl0aWNzX3RyYWNraW5nX2V2ZW50IiwidHlwZSIsImNhdGVnb3J5IiwiYWN0aW9uIiwibGFiZWwiLCJ2YWx1ZSIsImdhIiwialF1ZXJ5IiwiZG9jdW1lbnQiLCJyZWFkeSIsImxlbmd0aCIsInN1Ym1pdCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJidXR0b24iLCJ0aGlzIiwicHJldmlvdXNfYnV0dG9uX3RleHQiLCJ0ZXh0IiwiYWpheF9mb3JtX2RhdGEiLCJzZXJpYWxpemUiLCJwcm9wIiwiYWpheCIsImNhY2hlIiwiYWpheHVybCIsImRhdGFUeXBlIiwiZGF0YSIsImRvbmUiLCJyZXNwb25zZSIsIm1lc3NhZ2UiLCJtZXNzYWdlX2NsYXNzIiwic3VjY2VzcyIsImFuYWx5dGljc19hY3Rpb24iLCJ1c2VyX3N0YXR1cyIsImNvbmZpcm1fbWVzc2FnZSIsInBhdGhuYW1lIiwiaHRtbCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJmYWlsIl0sIm1hcHBpbmdzIjoiY0FBQSxTQUFZQSxHQUVYLFNBQVNDLEVBQXdCQyxHQVVoQyxPQUpBQyxLQUFNLFFBQVMsYUFBYyxDQUMzQkMsUUFBV0MsT0FBT0MsWUFDbEJDLGVBUGEsZ0JBQ1IsSUFBd0JMLElBQzNCTSxPQUFPQyxTQUFXUCxPQU9mLEVBR1IsU0FBU1EsRUFBNkJDLEVBQU1DLEVBQVVDLEVBQVFDLEVBQU9DLEdBQy9ELG9CQUF1QkMsVUFDdEIsSUFBdUJELEVBQzNCQyxHQUFJLE9BQVFMLEVBQU1DLEVBQVVDLEVBQVFDLEdBRXBDRSxHQUFJLE9BQVFMLEVBQU1DLEVBQVVDLEVBQVFDLEVBQU9DLElBb0Y5Q0UsT0FBUUMsVUFBV0MsTUFBTyxTQUFVbkIsR0E1RTRCLEVBQTFEQSxFQUFHLDZDQUE4Q29CLFFBQ3JEcEIsRUFBRyw2Q0FBOENxQixPQUFRLFNBQVVDLEdBQ2xFQSxFQUFNQyxpQkFDTkQsRUFBTUUsMkJBQ04sSUFDSUMsRUFBU3pCLEVBQUcsU0FBVTBCLE1BQ3RCQyxFQUF1QkYsRUFBT0csT0FDOUJDLEVBQWlCN0IsRUFBRzBCLE1BQU9JLFlBQy9CTCxFQUFPTSxLQUFNLFlBQVksR0FDekJOLEVBQU9HLEtBQU0sY0FFYkMsR0FBa0MsOEJBQ2xDN0IsRUFBRWdDLEtBQUssQ0FDTkMsT0FBTyxFQUNQL0IsSUFBS0csT0FBTzZCLFFBQ1p2QixLQUFNLE9BQ053QixTQUFXLE9BQ1hDLEtBQU1QLElBRU5RLEtBQU0sU0FBVUMsR0FDaEIsSUFBSUMsRUFBZ0IsR0FDaEJDLEVBQWdCLE9BQ3BCLElBQUssSUFBU0YsRUFBU0csUUFBVSxDQUNoQ2hCLEVBQU9HLEtBQU0sVUFDYixJQUFJYyxFQUFtQixTQUN2QixPQUFTSixFQUFTRixLQUFLTyxhQUN0QixJQUFLLFdBQ0pELEVBQW1CLFNBQ25CSCxFQUFVLG9GQUNWLE1BQ0QsSUFBSyxNQUNKRyxFQUFtQixTQUNuQkgsRUFBVSxrREFDVixNQUNELElBQUssVUFDSkcsRUFBbUIsU0FDbkJILEVBQVUsaUpBR1AsS0FBT0QsRUFBU0YsS0FBS1Esa0JBQ3pCTCxFQUFVRCxFQUFTRixLQUFLUSxpQkFJeEJsQyxFQUE2QixRQUFTLGFBQWNnQyxFQUFrQmpDLFNBQVNvQyxVQUcvRTVDLEVBQXdCUSxTQUFTb0MsZUFHbENwQixFQUFPTSxLQUFNLFlBQVksR0FDekJOLEVBQU9HLEtBQU1ELEdBRVpqQixFQUE2QixRQUFTLGFBQWMsT0FBUUQsU0FBU29DLFVBRWpFLEtBQU9QLEVBQVNGLEtBQUtRLGtCQUN6QkwsRUFBVUQsRUFBU0YsS0FBS1EsaUJBRXpCSixFQUFnQixRQUVqQnhDLEVBQUcsd0JBQXlCOEMsS0FBTVAsR0FDbEN2QyxFQUFHLHdCQUF5QitDLFNBQVUsa0JBQW9CUCxHQUFnQlEsWUFBYSxxQ0FFdkZDLEtBQU0sU0FBVVgsR0FDaEJ0QyxFQUFHLHdCQUF5QjhDLEtBQU0sa0RBQ2xDOUMsRUFBRyx3QkFBeUIrQyxTQUFVLHdCQUF5QkMsWUFBYSxtQ0FDNUV2QixFQUFPTSxLQUFNLFlBQVksR0FDekJOLEVBQU9HLEtBQU1ELEdBRVpqQixFQUE2QixRQUFTLGFBQWMsT0FBUUQsU0FBU29DLGdCQWpHM0UsQ0E0R0c1QiIsImZpbGUiOiJmcm9udC1lbmQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKCBmdW5jdGlvbiggJCApIHtcblxuXHRmdW5jdGlvbiBndGFnX3JlcG9ydF9jb252ZXJzaW9uKCB1cmwgKSB7XG5cdFx0dmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuXHRcdCAgaWYgKCAndW5kZWZpbmVkJyAhPT0gdHlwZW9mKCB1cmwgKSApIHtcblx0XHQgICAgd2luZG93LmxvY2F0aW9uID0gdXJsO1xuXHRcdCAgfVxuXHRcdH07XG5cdFx0Z3RhZyggJ2V2ZW50JywgJ2NvbnZlcnNpb24nLCB7XG5cdFx0ICAnc2VuZF90byc6IHBhcmFtcy5ndGFnX3NlbmR0byxcblx0XHQgICdldmVudF9jYWxsYmFjayc6IGNhbGxiYWNrXG5cdFx0fSApO1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGZ1bmN0aW9uIHdwX2FuYWx5dGljc190cmFja2luZ19ldmVudCggdHlwZSwgY2F0ZWdvcnksIGFjdGlvbiwgbGFiZWwsIHZhbHVlICkge1xuXHRcdGlmICggJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBnYSApIHtcblx0XHRcdGlmICggJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiB2YWx1ZSApIHtcblx0XHRcdFx0Z2EoICdzZW5kJywgdHlwZSwgY2F0ZWdvcnksIGFjdGlvbiwgbGFiZWwgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGdhKCAnc2VuZCcsIHR5cGUsIGNhdGVnb3J5LCBhY3Rpb24sIGxhYmVsLCB2YWx1ZSApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gc2hvcnRjb2RlRm9ybSgpIHtcblx0XHRpZiAoICQoICcubS1mb3JtLW1pbm5wb3N0LWZvcm0tcHJvY2Vzc29yLW1haWxjaGltcCcgKS5sZW5ndGggPiAwICkge1xuXHRcdFx0JCggJy5tLWZvcm0tbWlubnBvc3QtZm9ybS1wcm9jZXNzb3ItbWFpbGNoaW1wJyApLnN1Ym1pdCggZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBQcmV2ZW50IHRoZSBkZWZhdWx0IGZvcm0gc3VibWl0LlxuXHRcdFx0XHRldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0dmFyIHRoYXQgPSB0aGlzO1xuXHRcdFx0XHR2YXIgYnV0dG9uID0gJCggJ2J1dHRvbicsIHRoaXMgKTtcblx0XHRcdFx0dmFyIHByZXZpb3VzX2J1dHRvbl90ZXh0ID0gYnV0dG9uLnRleHQoKTtcblx0XHRcdFx0dmFyIGFqYXhfZm9ybV9kYXRhID0gJCggdGhpcyApLnNlcmlhbGl6ZSgpOyAvLyBzZXJpYWxpemUgdGhlIGZvcm0gZGF0YVxuXHRcdFx0XHRidXR0b24ucHJvcCggJ2Rpc2FibGVkJywgdHJ1ZSApO1xuXHRcdFx0XHRidXR0b24udGV4dCggJ1Byb2Nlc3NpbmcnICk7XG5cdFx0XHRcdC8vYWRkIG91ciBvd24gYWpheCBjaGVjayBhcyBYLVJlcXVlc3RlZC1XaXRoIGlzIG5vdCBhbHdheXMgcmVsaWFibGVcblx0XHRcdFx0YWpheF9mb3JtX2RhdGEgPSBhamF4X2Zvcm1fZGF0YSArICcmYWpheHJlcXVlc3Q9dHJ1ZSZzdWJzY3JpYmUnO1xuXHRcdFx0XHQkLmFqYXgoe1xuXHRcdFx0XHRcdGNhY2hlOiBmYWxzZSxcblx0XHRcdFx0XHR1cmw6IHBhcmFtcy5hamF4dXJsLCAvLyBkb21haW4vd3AtYWRtaW4vYWRtaW4tYWpheC5waHBcblx0XHRcdFx0XHR0eXBlOiAncG9zdCcsXG5cdFx0XHRcdFx0ZGF0YVR5cGUgOiAnanNvbicsXG5cdFx0XHRcdFx0ZGF0YTogYWpheF9mb3JtX2RhdGFcblx0XHRcdFx0fSApXG5cdFx0XHRcdC5kb25lKCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7IC8vIHJlc3BvbnNlIGZyb20gdGhlIFBIUCBhY3Rpb25cblx0XHRcdFx0XHR2YXIgbWVzc2FnZSAgICAgICA9ICcnO1xuXHRcdFx0XHRcdHZhciBtZXNzYWdlX2NsYXNzID0gJ2luZm8nO1xuXHRcdFx0XHRcdGlmICggdHJ1ZSA9PT0gcmVzcG9uc2Uuc3VjY2VzcyApIHtcblx0XHRcdFx0XHRcdGJ1dHRvbi50ZXh0KCAnVGhhbmtzJyApO1xuXHRcdFx0XHRcdFx0dmFyIGFuYWx5dGljc19hY3Rpb24gPSAnU2lnbnVwJztcblx0XHRcdFx0XHRcdHN3aXRjaCAoIHJlc3BvbnNlLmRhdGEudXNlcl9zdGF0dXMgKSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgJ2V4aXN0aW5nJzpcblx0XHRcdFx0XHRcdFx0XHRhbmFseXRpY3NfYWN0aW9uID0gJ1VwZGF0ZSc7XG5cdFx0XHRcdFx0XHRcdFx0bWVzc2FnZSA9ICdUaGFua3MgZm9yIHVwZGF0aW5nIHlvdXIgZW1haWwgcHJlZmVyZW5jZXMuIFRoZXkgd2lsbCBnbyBpbnRvIGVmZmVjdCBpbW1lZGlhdGVseS4nO1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRjYXNlICduZXcnOlxuXHRcdFx0XHRcdFx0XHRcdGFuYWx5dGljc19hY3Rpb24gPSAnU2lnbnVwJztcblx0XHRcdFx0XHRcdFx0XHRtZXNzYWdlID0gJ1dlIGhhdmUgYWRkZWQgeW91IHRvIHRoZSBNaW5uUG9zdCBtYWlsaW5nIGxpc3QuJztcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0Y2FzZSAncGVuZGluZyc6XG5cdFx0XHRcdFx0XHRcdFx0YW5hbHl0aWNzX2FjdGlvbiA9ICdTaWdudXAnO1xuXHRcdFx0XHRcdFx0XHRcdG1lc3NhZ2UgPSAnV2UgaGF2ZSBhZGRlZCB5b3UgdG8gdGhlIE1pbm5Qb3N0IG1haWxpbmcgbGlzdC4gWW91IHdpbGwgbmVlZCB0byBjbGljayB0aGUgY29uZmlybWF0aW9uIGxpbmsgaW4gdGhlIGVtYWlsIHdlIHNlbnQgdG8gYmVnaW4gcmVjZWl2aW5nIG1lc3NhZ2VzLic7XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoICcnICE9PSByZXNwb25zZS5kYXRhLmNvbmZpcm1fbWVzc2FnZSApIHtcblx0XHRcdFx0XHRcdFx0bWVzc2FnZSA9IHJlc3BvbnNlLmRhdGEuY29uZmlybV9tZXNzYWdlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAoICdmdW5jdGlvbicgPT09IHR5cGVvZiB3cF9hbmFseXRpY3NfdHJhY2tpbmdfZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRcdHdwX2FuYWx5dGljc190cmFja2luZ19ldmVudCggJ2V2ZW50JywgJ05ld3NsZXR0ZXInLCBhbmFseXRpY3NfYWN0aW9uLCBsb2NhdGlvbi5wYXRobmFtZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCAnZnVuY3Rpb24nID09PSB0eXBlb2YgZ3RhZ19yZXBvcnRfY29udmVyc2lvbiApIHtcblx0XHRcdFx0XHRcdFx0Z3RhZ19yZXBvcnRfY29udmVyc2lvbiggbG9jYXRpb24ucGF0aG5hbWUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0YnV0dG9uLnByb3AoICdkaXNhYmxlZCcsIGZhbHNlICk7XG5cdFx0XHRcdFx0XHRidXR0b24udGV4dCggcHJldmlvdXNfYnV0dG9uX3RleHQgKTtcblx0XHRcdFx0XHRcdGlmICggJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHdwX2FuYWx5dGljc190cmFja2luZ19ldmVudCApIHtcblx0XHRcdFx0XHRcdFx0d3BfYW5hbHl0aWNzX3RyYWNraW5nX2V2ZW50KCAnZXZlbnQnLCAnTmV3c2xldHRlcicsICdGYWlsJywgbG9jYXRpb24ucGF0aG5hbWUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggJycgIT09IHJlc3BvbnNlLmRhdGEuY29uZmlybV9tZXNzYWdlICkge1xuXHRcdFx0XHRcdFx0XHRtZXNzYWdlID0gcmVzcG9uc2UuZGF0YS5jb25maXJtX21lc3NhZ2U7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRtZXNzYWdlX2NsYXNzID0gJ2Vycm9yJztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0JCggJy5tLWZvcm0tbWVzc2FnZS1hamF4JyApLmh0bWwoIG1lc3NhZ2UgKTtcblx0XHRcdFx0XHQkKCAnLm0tZm9ybS1tZXNzYWdlLWFqYXgnICkuYWRkQ2xhc3MoICdtLWZvcm0tbWVzc2FnZS0nICsgbWVzc2FnZV9jbGFzcyApLnJlbW92ZUNsYXNzKCAnbS1mb3JtLW1lc3NhZ2UtYWpheC1wbGFjZWhvbGRlcicgKTtcblx0XHRcdFx0fSApXG5cdFx0XHRcdC5mYWlsKCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cdFx0XHRcdFx0JCggJy5tLWZvcm0tbWVzc2FnZS1hamF4JyApLmh0bWwoICc8cD5BbiBlcnJvciBoYXMgb2NjdXJlZC4gUGxlYXNlIHRyeSBhZ2Fpbi48L3A+JyApO1xuXHRcdFx0XHRcdCQoICcubS1mb3JtLW1lc3NhZ2UtYWpheCcgKS5hZGRDbGFzcyggJ20tZm9ybS1tZXNzYWdlLWVycm9yJyApLnJlbW92ZUNsYXNzKCAnbS1mb3JtLW1lc3NhZ2UtYWpheC1wbGFjZWhvbGRlcicgKTtcblx0XHRcdFx0XHRidXR0b24ucHJvcCggJ2Rpc2FibGVkJywgZmFsc2UgKTtcblx0XHRcdFx0XHRidXR0b24udGV4dCggcHJldmlvdXNfYnV0dG9uX3RleHQgKTtcblx0XHRcdFx0XHRpZiAoICdmdW5jdGlvbicgPT09IHR5cGVvZiB3cF9hbmFseXRpY3NfdHJhY2tpbmdfZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHR3cF9hbmFseXRpY3NfdHJhY2tpbmdfZXZlbnQoICdldmVudCcsICdOZXdzbGV0dGVyJywgJ0ZhaWwnLCBsb2NhdGlvbi5wYXRobmFtZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0alF1ZXJ5KCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbiggJCApIHtcblx0XHRzaG9ydGNvZGVGb3JtKCk7XG5cdH0pO1xuXG59KShqUXVlcnkpOyJdfQ==
