"use strict";!function(i){function r(e,a,s,o,t){"undefined"!=typeof ga&&(void 0===t?ga("send",e,a,s,o):ga("send",e,a,s,o,t))}jQuery(document).ready(function(e){0<i(".m-form-minnpost-form-processor-mailchimp").length&&i(".m-form-minnpost-form-processor-mailchimp").submit(function(e){e.preventDefault(),e.stopImmediatePropagation();var t=i("button",this),m=t.text(),a=i(this).serialize();t.prop("disabled",!0),t.text("Processing"),a+="&ajaxrequest=true&subscribe",i.ajax({cache:!1,url:params.ajaxurl,type:"post",dataType:"json",data:a}).done(function(e){var a="",s="info";if(!0===e.success){t.text("Thanks");var o="Signup";switch(e.data.user_status){case"existing":o="Update",a="Thanks for updating your email preferences. They will go into effect&nbsp;immediately.";break;case"new":o="Signup",a="We have added you to the MinnPost mailing&nbsp;list.";break;case"pending":o="Signup",a="We have added you to the MinnPost mailing list. You will need to click the confirmation link in the email we sent to begin receiving&nbsp;messages."}""!==e.data.confirm_message&&(a=e.data.confirm_message),r("event","Newsletter",o,location.pathname)}else t.prop("disabled",!1),t.text(m),r("event","Newsletter","Fail",location.pathname),""!==e.data.confirm_message&&(a=e.data.confirm_message),s="error";i(".m-form-message-ajax").html(a),i(".m-form-message-ajax").addClass("m-form-message-"+s).removeClass("m-form-message-ajax-placeholder"),i(".m-form-minnpost-form-processor-mailchimp").addClass("m-form-minnpost-form-processor-mailchimp-submitted")}).fail(function(e){i(".m-form-message-ajax").html("<p>An error has occured. Please try again.</p>"),i(".m-form-message-ajax").addClass("m-form-message-error").removeClass("m-form-message-ajax-placeholder"),i(".m-form-minnpost-form-processor-mailchimp").removeClass("m-form-minnpost-form-processor-mailchimp-submitted"),t.prop("disabled",!1),t.text(m),r("event","Newsletter","Fail",location.pathname)})})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob3J0Y29kZS5qcyJdLCJuYW1lcyI6WyIkIiwid3BfYW5hbHl0aWNzX3RyYWNraW5nX2V2ZW50IiwidHlwZSIsImNhdGVnb3J5IiwiYWN0aW9uIiwibGFiZWwiLCJ2YWx1ZSIsImdhIiwialF1ZXJ5IiwiZG9jdW1lbnQiLCJyZWFkeSIsImxlbmd0aCIsInN1Ym1pdCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJidXR0b24iLCJ0aGlzIiwicHJldmlvdXNfYnV0dG9uX3RleHQiLCJ0ZXh0IiwiYWpheF9mb3JtX2RhdGEiLCJzZXJpYWxpemUiLCJwcm9wIiwiYWpheCIsImNhY2hlIiwidXJsIiwicGFyYW1zIiwiYWpheHVybCIsImRhdGFUeXBlIiwiZGF0YSIsImRvbmUiLCJyZXNwb25zZSIsIm1lc3NhZ2UiLCJtZXNzYWdlX2NsYXNzIiwic3VjY2VzcyIsImFuYWx5dGljc19hY3Rpb24iLCJ1c2VyX3N0YXR1cyIsImNvbmZpcm1fbWVzc2FnZSIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJodG1sIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImZhaWwiXSwibWFwcGluZ3MiOiJjQUFBLFNBQVlBLEdBRVgsU0FBU0MsRUFBNkJDLEVBQU1DLEVBQVVDLEVBQVFDLEVBQU9DLEdBQy9ELG9CQUF1QkMsVUFDdEIsSUFBdUJELEVBQzNCQyxHQUFJLE9BQVFMLEVBQU1DLEVBQVVDLEVBQVFDLEdBRXBDRSxHQUFJLE9BQVFMLEVBQU1DLEVBQVVDLEVBQVFDLEVBQU9DLElBbUY5Q0UsT0FBUUMsVUFBV0MsTUFBTyxTQUFVVixHQTNFNEIsRUFBMURBLEVBQUcsNkNBQThDVyxRQUNyRFgsRUFBRyw2Q0FBOENZLE9BQVEsU0FBVUMsR0FDbEVBLEVBQU1DLGlCQUNORCxFQUFNRSwyQkFDTixJQUNJQyxFQUFTaEIsRUFBRyxTQUFVaUIsTUFDdEJDLEVBQXVCRixFQUFPRyxPQUM5QkMsRUFBaUJwQixFQUFHaUIsTUFBT0ksWUFDL0JMLEVBQU9NLEtBQU0sWUFBWSxHQUN6Qk4sRUFBT0csS0FBTSxjQUViQyxHQUFrQyw4QkFDbENwQixFQUFFdUIsS0FBSyxDQUNOQyxPQUFPLEVBQ1BDLElBQUtDLE9BQU9DLFFBQ1p6QixLQUFNLE9BQ04wQixTQUFXLE9BQ1hDLEtBQU1ULElBRU5VLEtBQU0sU0FBVUMsR0FDaEIsSUFBSUMsRUFBZ0IsR0FDaEJDLEVBQWdCLE9BQ3BCLElBQUssSUFBU0YsRUFBU0csUUFBVSxDQUNoQ2xCLEVBQU9HLEtBQU0sVUFDYixJQUFJZ0IsRUFBbUIsU0FDdkIsT0FBU0osRUFBU0YsS0FBS08sYUFDdEIsSUFBSyxXQUNKRCxFQUFtQixTQUNuQkgsRUFBVSx5RkFDVixNQUNELElBQUssTUFDSkcsRUFBbUIsU0FDbkJILEVBQVUsdURBQ1YsTUFDRCxJQUFLLFVBQ0pHLEVBQW1CLFNBQ25CSCxFQUFVLHNKQUdQLEtBQU9ELEVBQVNGLEtBQUtRLGtCQUN6QkwsRUFBVUQsRUFBU0YsS0FBS1EsaUJBSXhCcEMsRUFBNkIsUUFBUyxhQUFja0MsRUFBa0JHLFNBQVNDLGVBR2hGdkIsRUFBT00sS0FBTSxZQUFZLEdBQ3pCTixFQUFPRyxLQUFNRCxHQUVaakIsRUFBNkIsUUFBUyxhQUFjLE9BQVFxQyxTQUFTQyxVQUVqRSxLQUFPUixFQUFTRixLQUFLUSxrQkFDekJMLEVBQVVELEVBQVNGLEtBQUtRLGlCQUV6QkosRUFBZ0IsUUFFakJqQyxFQUFHLHdCQUF5QndDLEtBQU1SLEdBQ2xDaEMsRUFBRyx3QkFBeUJ5QyxTQUFVLGtCQUFvQlIsR0FBZ0JTLFlBQWEsbUNBQ3ZGMUMsRUFBRyw2Q0FBOEN5QyxTQUFVLHdEQUUzREUsS0FBTSxTQUFVWixHQUNoQi9CLEVBQUcsd0JBQXlCd0MsS0FBTSxrREFDbEN4QyxFQUFHLHdCQUF5QnlDLFNBQVUsd0JBQXlCQyxZQUFhLG1DQUM1RTFDLEVBQUcsNkNBQThDMEMsWUFBYSxzREFDOUQxQixFQUFPTSxLQUFNLFlBQVksR0FDekJOLEVBQU9HLEtBQU1ELEdBRVpqQixFQUE2QixRQUFTLGFBQWMsT0FBUXFDLFNBQVNDLGdCQW5GM0UsQ0E4RkcvQiIsImZpbGUiOiJmcm9udC1lbmQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKCBmdW5jdGlvbiggJCApIHtcblxuXHRmdW5jdGlvbiB3cF9hbmFseXRpY3NfdHJhY2tpbmdfZXZlbnQoIHR5cGUsIGNhdGVnb3J5LCBhY3Rpb24sIGxhYmVsLCB2YWx1ZSApIHtcblx0XHRpZiAoICd1bmRlZmluZWQnICE9PSB0eXBlb2YgZ2EgKSB7XG5cdFx0XHRpZiAoICd1bmRlZmluZWQnID09PSB0eXBlb2YgdmFsdWUgKSB7XG5cdFx0XHRcdGdhKCAnc2VuZCcsIHR5cGUsIGNhdGVnb3J5LCBhY3Rpb24sIGxhYmVsICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRnYSggJ3NlbmQnLCB0eXBlLCBjYXRlZ29yeSwgYWN0aW9uLCBsYWJlbCwgdmFsdWUgKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHNob3J0Y29kZUZvcm0oKSB7XG5cdFx0aWYgKCAkKCAnLm0tZm9ybS1taW5ucG9zdC1mb3JtLXByb2Nlc3Nvci1tYWlsY2hpbXAnICkubGVuZ3RoID4gMCApIHtcblx0XHRcdCQoICcubS1mb3JtLW1pbm5wb3N0LWZvcm0tcHJvY2Vzc29yLW1haWxjaGltcCcgKS5zdWJtaXQoIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gUHJldmVudCB0aGUgZGVmYXVsdCBmb3JtIHN1Ym1pdC5cblx0XHRcdFx0ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdHZhciB0aGF0ID0gdGhpcztcblx0XHRcdFx0dmFyIGJ1dHRvbiA9ICQoICdidXR0b24nLCB0aGlzICk7XG5cdFx0XHRcdHZhciBwcmV2aW91c19idXR0b25fdGV4dCA9IGJ1dHRvbi50ZXh0KCk7XG5cdFx0XHRcdHZhciBhamF4X2Zvcm1fZGF0YSA9ICQoIHRoaXMgKS5zZXJpYWxpemUoKTsgLy8gc2VyaWFsaXplIHRoZSBmb3JtIGRhdGFcblx0XHRcdFx0YnV0dG9uLnByb3AoICdkaXNhYmxlZCcsIHRydWUgKTtcblx0XHRcdFx0YnV0dG9uLnRleHQoICdQcm9jZXNzaW5nJyApO1xuXHRcdFx0XHQvL2FkZCBvdXIgb3duIGFqYXggY2hlY2sgYXMgWC1SZXF1ZXN0ZWQtV2l0aCBpcyBub3QgYWx3YXlzIHJlbGlhYmxlXG5cdFx0XHRcdGFqYXhfZm9ybV9kYXRhID0gYWpheF9mb3JtX2RhdGEgKyAnJmFqYXhyZXF1ZXN0PXRydWUmc3Vic2NyaWJlJztcblx0XHRcdFx0JC5hamF4KHtcblx0XHRcdFx0XHRjYWNoZTogZmFsc2UsXG5cdFx0XHRcdFx0dXJsOiBwYXJhbXMuYWpheHVybCwgLy8gZG9tYWluL3dwLWFkbWluL2FkbWluLWFqYXgucGhwXG5cdFx0XHRcdFx0dHlwZTogJ3Bvc3QnLFxuXHRcdFx0XHRcdGRhdGFUeXBlIDogJ2pzb24nLFxuXHRcdFx0XHRcdGRhdGE6IGFqYXhfZm9ybV9kYXRhXG5cdFx0XHRcdH0gKVxuXHRcdFx0XHQuZG9uZSggZnVuY3Rpb24oIHJlc3BvbnNlICkgeyAvLyByZXNwb25zZSBmcm9tIHRoZSBQSFAgYWN0aW9uXG5cdFx0XHRcdFx0dmFyIG1lc3NhZ2UgICAgICAgPSAnJztcblx0XHRcdFx0XHR2YXIgbWVzc2FnZV9jbGFzcyA9ICdpbmZvJztcblx0XHRcdFx0XHRpZiAoIHRydWUgPT09IHJlc3BvbnNlLnN1Y2Nlc3MgKSB7XG5cdFx0XHRcdFx0XHRidXR0b24udGV4dCggJ1RoYW5rcycgKTtcblx0XHRcdFx0XHRcdHZhciBhbmFseXRpY3NfYWN0aW9uID0gJ1NpZ251cCc7XG5cdFx0XHRcdFx0XHRzd2l0Y2ggKCByZXNwb25zZS5kYXRhLnVzZXJfc3RhdHVzICkge1xuXHRcdFx0XHRcdFx0XHRjYXNlICdleGlzdGluZyc6XG5cdFx0XHRcdFx0XHRcdFx0YW5hbHl0aWNzX2FjdGlvbiA9ICdVcGRhdGUnO1xuXHRcdFx0XHRcdFx0XHRcdG1lc3NhZ2UgPSAnVGhhbmtzIGZvciB1cGRhdGluZyB5b3VyIGVtYWlsIHByZWZlcmVuY2VzLiBUaGV5IHdpbGwgZ28gaW50byBlZmZlY3QmbmJzcDtpbW1lZGlhdGVseS4nO1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRjYXNlICduZXcnOlxuXHRcdFx0XHRcdFx0XHRcdGFuYWx5dGljc19hY3Rpb24gPSAnU2lnbnVwJztcblx0XHRcdFx0XHRcdFx0XHRtZXNzYWdlID0gJ1dlIGhhdmUgYWRkZWQgeW91IHRvIHRoZSBNaW5uUG9zdCBtYWlsaW5nJm5ic3A7bGlzdC4nO1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRjYXNlICdwZW5kaW5nJzpcblx0XHRcdFx0XHRcdFx0XHRhbmFseXRpY3NfYWN0aW9uID0gJ1NpZ251cCc7XG5cdFx0XHRcdFx0XHRcdFx0bWVzc2FnZSA9ICdXZSBoYXZlIGFkZGVkIHlvdSB0byB0aGUgTWlublBvc3QgbWFpbGluZyBsaXN0LiBZb3Ugd2lsbCBuZWVkIHRvIGNsaWNrIHRoZSBjb25maXJtYXRpb24gbGluayBpbiB0aGUgZW1haWwgd2Ugc2VudCB0byBiZWdpbiByZWNlaXZpbmcmbmJzcDttZXNzYWdlcy4nO1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCAnJyAhPT0gcmVzcG9uc2UuZGF0YS5jb25maXJtX21lc3NhZ2UgKSB7XG5cdFx0XHRcdFx0XHRcdG1lc3NhZ2UgPSByZXNwb25zZS5kYXRhLmNvbmZpcm1fbWVzc2FnZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKCAnZnVuY3Rpb24nID09PSB0eXBlb2Ygd3BfYW5hbHl0aWNzX3RyYWNraW5nX2V2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHR3cF9hbmFseXRpY3NfdHJhY2tpbmdfZXZlbnQoICdldmVudCcsICdOZXdzbGV0dGVyJywgYW5hbHl0aWNzX2FjdGlvbiwgbG9jYXRpb24ucGF0aG5hbWUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0YnV0dG9uLnByb3AoICdkaXNhYmxlZCcsIGZhbHNlICk7XG5cdFx0XHRcdFx0XHRidXR0b24udGV4dCggcHJldmlvdXNfYnV0dG9uX3RleHQgKTtcblx0XHRcdFx0XHRcdGlmICggJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHdwX2FuYWx5dGljc190cmFja2luZ19ldmVudCApIHtcblx0XHRcdFx0XHRcdFx0d3BfYW5hbHl0aWNzX3RyYWNraW5nX2V2ZW50KCAnZXZlbnQnLCAnTmV3c2xldHRlcicsICdGYWlsJywgbG9jYXRpb24ucGF0aG5hbWUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggJycgIT09IHJlc3BvbnNlLmRhdGEuY29uZmlybV9tZXNzYWdlICkge1xuXHRcdFx0XHRcdFx0XHRtZXNzYWdlID0gcmVzcG9uc2UuZGF0YS5jb25maXJtX21lc3NhZ2U7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRtZXNzYWdlX2NsYXNzID0gJ2Vycm9yJztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0JCggJy5tLWZvcm0tbWVzc2FnZS1hamF4JyApLmh0bWwoIG1lc3NhZ2UgKTtcblx0XHRcdFx0XHQkKCAnLm0tZm9ybS1tZXNzYWdlLWFqYXgnICkuYWRkQ2xhc3MoICdtLWZvcm0tbWVzc2FnZS0nICsgbWVzc2FnZV9jbGFzcyApLnJlbW92ZUNsYXNzKCAnbS1mb3JtLW1lc3NhZ2UtYWpheC1wbGFjZWhvbGRlcicgKTtcblx0XHRcdFx0XHQkKCAnLm0tZm9ybS1taW5ucG9zdC1mb3JtLXByb2Nlc3Nvci1tYWlsY2hpbXAnICkuYWRkQ2xhc3MoICdtLWZvcm0tbWlubnBvc3QtZm9ybS1wcm9jZXNzb3ItbWFpbGNoaW1wLXN1Ym1pdHRlZCcgKTtcblx0XHRcdFx0fSApXG5cdFx0XHRcdC5mYWlsKCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cdFx0XHRcdFx0JCggJy5tLWZvcm0tbWVzc2FnZS1hamF4JyApLmh0bWwoICc8cD5BbiBlcnJvciBoYXMgb2NjdXJlZC4gUGxlYXNlIHRyeSBhZ2Fpbi48L3A+JyApO1xuXHRcdFx0XHRcdCQoICcubS1mb3JtLW1lc3NhZ2UtYWpheCcgKS5hZGRDbGFzcyggJ20tZm9ybS1tZXNzYWdlLWVycm9yJyApLnJlbW92ZUNsYXNzKCAnbS1mb3JtLW1lc3NhZ2UtYWpheC1wbGFjZWhvbGRlcicgKTtcblx0XHRcdFx0XHQkKCAnLm0tZm9ybS1taW5ucG9zdC1mb3JtLXByb2Nlc3Nvci1tYWlsY2hpbXAnICkucmVtb3ZlQ2xhc3MoICdtLWZvcm0tbWlubnBvc3QtZm9ybS1wcm9jZXNzb3ItbWFpbGNoaW1wLXN1Ym1pdHRlZCcgKTtcblx0XHRcdFx0XHRidXR0b24ucHJvcCggJ2Rpc2FibGVkJywgZmFsc2UgKTtcblx0XHRcdFx0XHRidXR0b24udGV4dCggcHJldmlvdXNfYnV0dG9uX3RleHQgKTtcblx0XHRcdFx0XHRpZiAoICdmdW5jdGlvbicgPT09IHR5cGVvZiB3cF9hbmFseXRpY3NfdHJhY2tpbmdfZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHR3cF9hbmFseXRpY3NfdHJhY2tpbmdfZXZlbnQoICdldmVudCcsICdOZXdzbGV0dGVyJywgJ0ZhaWwnLCBsb2NhdGlvbi5wYXRobmFtZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0alF1ZXJ5KCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbiggJCApIHtcblx0XHRzaG9ydGNvZGVGb3JtKCk7XG5cdH0pO1xuXG59KShqUXVlcnkpOyJdfQ==
