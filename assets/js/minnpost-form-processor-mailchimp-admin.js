;(function($) {
"use strict";

function showGroupSettings(selector) {
  $(selector).click(function () {
    $(this).parent().toggleClass('minnpost-mailchimp-group-settings-visible');
  });
}

function wrapListFields(selector) {
  var title = selector.replace('minnpost-form-processor-mailchimp-group', '');
  var title = title.split("-").join(" ").replace(/\w\S*/g, function (txt) {
    return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
  }) + ' settings';
  $('.' + selector).wrapAll('<tr class="minnpost-mailchimp-fields-wrap minnpost-mailchimp-fields-wrap-' + selector + '"><td colspan="2"><table />');
  $('.minnpost-mailchimp-fields-wrap-' + selector + ' > td table').before('<h4 class="minnpost-mailchimp-group-settings">' + title + '<span class="dashicons dashicons-arrow-right"></span></h4>');
}

function groupListFields(selector) {
  var wrapList = [];
  $(selector).each(function () {
    var classList = $(this).attr('class').split(/\s+/);
    $.each(classList, function (index, item) {
      if (1 === index) {
        wrapList.push(item);
      }
    });
  });
  $.each(Array.from(new Set(wrapList)), function (index, item) {
    wrapListFields(item);
  });
}

$(document).ready(function () {
  if (0 < $('.minnpost-form-processor-mailchimp-group').length) {
    groupListFields('.minnpost-form-processor-mailchimp-group');
  }

  if (0 < $('.minnpost-mailchimp-group-settings').length) {
    showGroupSettings('.minnpost-mailchimp-group-settings');
  }
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLmpzIl0sIm5hbWVzIjpbInNob3dHcm91cFNldHRpbmdzIiwic2VsZWN0b3IiLCIkIiwiY2xpY2siLCJwYXJlbnQiLCJ0b2dnbGVDbGFzcyIsIndyYXBMaXN0RmllbGRzIiwidGl0bGUiLCJyZXBsYWNlIiwic3BsaXQiLCJqb2luIiwidHh0IiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzdWJzdHIiLCJ0b0xvd2VyQ2FzZSIsIndyYXBBbGwiLCJiZWZvcmUiLCJncm91cExpc3RGaWVsZHMiLCJ3cmFwTGlzdCIsImVhY2giLCJjbGFzc0xpc3QiLCJhdHRyIiwiaW5kZXgiLCJpdGVtIiwicHVzaCIsIkFycmF5IiwiZnJvbSIsIlNldCIsImRvY3VtZW50IiwicmVhZHkiLCJsZW5ndGgiXSwibWFwcGluZ3MiOiI7O0FBQUEsU0FBU0EsaUJBQVQsQ0FBNEJDLFFBQTVCLEVBQXVDO0FBQ3RDQyxFQUFBQSxDQUFDLENBQUVELFFBQUYsQ0FBRCxDQUFjRSxLQUFkLENBQXFCLFlBQVc7QUFDL0JELElBQUFBLENBQUMsQ0FBRSxJQUFGLENBQUQsQ0FBVUUsTUFBVixHQUFtQkMsV0FBbkIsQ0FBZ0MsMkNBQWhDO0FBQ0EsR0FGRDtBQUdBOztBQUVELFNBQVNDLGNBQVQsQ0FBeUJMLFFBQXpCLEVBQW9DO0FBQ25DLE1BQUlNLEtBQUssR0FBR04sUUFBUSxDQUFDTyxPQUFULENBQWtCLHlDQUFsQixFQUE2RCxFQUE3RCxDQUFaO0FBQ0EsTUFBSUQsS0FBSyxHQUFHQSxLQUFLLENBQUNFLEtBQU4sQ0FBWSxHQUFaLEVBQWlCQyxJQUFqQixDQUFzQixHQUF0QixFQUEyQkYsT0FBM0IsQ0FBbUMsUUFBbkMsRUFBNkMsVUFBU0csR0FBVCxFQUFhO0FBQUMsV0FBT0EsR0FBRyxDQUFDQyxNQUFKLENBQVcsQ0FBWCxFQUFjQyxXQUFkLEtBQThCRixHQUFHLENBQUNHLE1BQUosQ0FBVyxDQUFYLEVBQWNDLFdBQWQsRUFBckM7QUFBaUUsR0FBNUgsSUFBZ0ksV0FBNUk7QUFDQWIsRUFBQUEsQ0FBQyxDQUFFLE1BQU1ELFFBQVIsQ0FBRCxDQUFvQmUsT0FBcEIsQ0FBNkIsOEVBQThFZixRQUE5RSxHQUF5Riw2QkFBdEg7QUFDQUMsRUFBQUEsQ0FBQyxDQUFFLHFDQUFxQ0QsUUFBckMsR0FBZ0QsYUFBbEQsQ0FBRCxDQUFrRWdCLE1BQWxFLENBQTBFLG1EQUFtRFYsS0FBbkQsR0FBMkQsNERBQXJJO0FBQ0E7O0FBRUQsU0FBU1csZUFBVCxDQUEwQmpCLFFBQTFCLEVBQXFDO0FBQ3BDLE1BQUlrQixRQUFRLEdBQUcsRUFBZjtBQUNBakIsRUFBQUEsQ0FBQyxDQUFFRCxRQUFGLENBQUQsQ0FBY21CLElBQWQsQ0FBb0IsWUFBVztBQUM5QixRQUFJQyxTQUFTLEdBQUduQixDQUFDLENBQUUsSUFBRixDQUFELENBQVVvQixJQUFWLENBQWdCLE9BQWhCLEVBQTBCYixLQUExQixDQUFpQyxLQUFqQyxDQUFoQjtBQUNBUCxJQUFBQSxDQUFDLENBQUNrQixJQUFGLENBQVFDLFNBQVIsRUFBbUIsVUFBVUUsS0FBVixFQUFpQkMsSUFBakIsRUFBd0I7QUFDMUMsVUFBSyxNQUFNRCxLQUFYLEVBQW1CO0FBQ2xCSixRQUFBQSxRQUFRLENBQUNNLElBQVQsQ0FBZUQsSUFBZjtBQUNBO0FBQ0QsS0FKRDtBQUtBLEdBUEQ7QUFRQXRCLEVBQUFBLENBQUMsQ0FBQ2tCLElBQUYsQ0FBUU0sS0FBSyxDQUFDQyxJQUFOLENBQVksSUFBSUMsR0FBSixDQUFTVCxRQUFULENBQVosQ0FBUixFQUEyQyxVQUFVSSxLQUFWLEVBQWlCQyxJQUFqQixFQUF3QjtBQUNsRWxCLElBQUFBLGNBQWMsQ0FBRWtCLElBQUYsQ0FBZDtBQUNBLEdBRkQ7QUFHQTs7QUFFRHRCLENBQUMsQ0FBRTJCLFFBQUYsQ0FBRCxDQUFjQyxLQUFkLENBQXFCLFlBQVc7QUFDL0IsTUFBSyxJQUFJNUIsQ0FBQyxDQUFFLDBDQUFGLENBQUQsQ0FBZ0Q2QixNQUF6RCxFQUFrRTtBQUNqRWIsSUFBQUEsZUFBZSxDQUFFLDBDQUFGLENBQWY7QUFDQTs7QUFDRCxNQUFLLElBQUloQixDQUFDLENBQUUsb0NBQUYsQ0FBRCxDQUEwQzZCLE1BQW5ELEVBQTREO0FBQzNEL0IsSUFBQUEsaUJBQWlCLENBQUUsb0NBQUYsQ0FBakI7QUFDQTtBQUNELENBUEQiLCJmaWxlIjoibWlubnBvc3QtZm9ybS1wcm9jZXNzb3ItbWFpbGNoaW1wLWFkbWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gc2hvd0dyb3VwU2V0dGluZ3MoIHNlbGVjdG9yICkge1xuXHQkKCBzZWxlY3RvciApLmNsaWNrKCBmdW5jdGlvbigpIHtcblx0XHQkKCB0aGlzICkucGFyZW50KCkudG9nZ2xlQ2xhc3MoICdtaW5ucG9zdC1tYWlsY2hpbXAtZ3JvdXAtc2V0dGluZ3MtdmlzaWJsZScgKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIHdyYXBMaXN0RmllbGRzKCBzZWxlY3RvciApIHtcblx0dmFyIHRpdGxlID0gc2VsZWN0b3IucmVwbGFjZSggJ21pbm5wb3N0LWZvcm0tcHJvY2Vzc29yLW1haWxjaGltcC1ncm91cCcsICcnICk7XG5cdHZhciB0aXRsZSA9IHRpdGxlLnNwbGl0KFwiLVwiKS5qb2luKFwiIFwiKS5yZXBsYWNlKC9cXHdcXFMqL2csIGZ1bmN0aW9uKHR4dCl7cmV0dXJuIHR4dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHR4dC5zdWJzdHIoMSkudG9Mb3dlckNhc2UoKX0pICsgJyBzZXR0aW5ncyc7XG5cdCQoICcuJyArIHNlbGVjdG9yICkud3JhcEFsbCggJzx0ciBjbGFzcz1cIm1pbm5wb3N0LW1haWxjaGltcC1maWVsZHMtd3JhcCBtaW5ucG9zdC1tYWlsY2hpbXAtZmllbGRzLXdyYXAtJyArIHNlbGVjdG9yICsgJ1wiPjx0ZCBjb2xzcGFuPVwiMlwiPjx0YWJsZSAvPicgKTtcblx0JCggJy5taW5ucG9zdC1tYWlsY2hpbXAtZmllbGRzLXdyYXAtJyArIHNlbGVjdG9yICsgJyA+IHRkIHRhYmxlJykuYmVmb3JlKCAnPGg0IGNsYXNzPVwibWlubnBvc3QtbWFpbGNoaW1wLWdyb3VwLXNldHRpbmdzXCI+JyArIHRpdGxlICsgJzxzcGFuIGNsYXNzPVwiZGFzaGljb25zIGRhc2hpY29ucy1hcnJvdy1yaWdodFwiPjwvc3Bhbj48L2g0PicgKTtcbn1cblxuZnVuY3Rpb24gZ3JvdXBMaXN0RmllbGRzKCBzZWxlY3RvciApIHtcblx0dmFyIHdyYXBMaXN0ID0gW107XG5cdCQoIHNlbGVjdG9yICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNsYXNzTGlzdCA9ICQoIHRoaXMgKS5hdHRyKCAnY2xhc3MnICkuc3BsaXQoIC9cXHMrLyApO1xuXHRcdCQuZWFjaCggY2xhc3NMaXN0LCBmdW5jdGlvbiggaW5kZXgsIGl0ZW0gKSB7XG5cdFx0XHRpZiAoIDEgPT09IGluZGV4ICkge1xuXHRcdFx0XHR3cmFwTGlzdC5wdXNoKCBpdGVtICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXHQkLmVhY2goIEFycmF5LmZyb20oIG5ldyBTZXQoIHdyYXBMaXN0ICkgKSwgZnVuY3Rpb24oIGluZGV4LCBpdGVtICkge1xuXHRcdHdyYXBMaXN0RmllbGRzKCBpdGVtICk7XG5cdH0pO1xufVxuXG4kKCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0aWYgKCAwIDwgJCggJy5taW5ucG9zdC1mb3JtLXByb2Nlc3Nvci1tYWlsY2hpbXAtZ3JvdXAnICkubGVuZ3RoICkge1xuXHRcdGdyb3VwTGlzdEZpZWxkcyggJy5taW5ucG9zdC1mb3JtLXByb2Nlc3Nvci1tYWlsY2hpbXAtZ3JvdXAnICk7XG5cdH1cblx0aWYgKCAwIDwgJCggJy5taW5ucG9zdC1tYWlsY2hpbXAtZ3JvdXAtc2V0dGluZ3MnICkubGVuZ3RoICkge1xuXHRcdHNob3dHcm91cFNldHRpbmdzKCAnLm1pbm5wb3N0LW1haWxjaGltcC1ncm91cC1zZXR0aW5ncycgKTtcblx0fVxufSk7XG4iXX0=
}(jQuery));
